<div class="row" [hidden]="submitted">
    <!-- column -->
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <div style="width: 400px;">
                    <form  (ngSubmit)="submit()">
                        <h3>Brand Data</h3>
                        <table class="table table-striped">
                            <tr *ngIf="roleId==8">
                                <td>
                                    <!-- <div class="form-group"> -->
                                        <font style="color: red;">*</font><label>Sourcing Partner&emsp;</label>
                                        <select class="form-control" style="width: 240px;" (change)="getProgramId()" 
                                         [disabled]="hideSorcPartner" [(ngModel)]="sourcingPartnerId" name="sourcingPartnerId" id="sourcingPartnerId">
                                            <option *ngFor="let spl of sourcingPartnerList" [value]="spl.orgId">{{spl.name}}</option>
                                        </select>

                                        <!-- <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">
                                            <div *ngIf="f.name.errors.required">Name is required.</div>
                                            <div *ngIf="f.name.errors.minlength">Name should be 3 character.</div>
                                        </div> -->
                                    <!-- </div> -->
                                </td>
                                <td>
                                    <!-- <div class="form-group"> -->
                                        <font style="color: red;">*</font><label> Retailer/Dealer&emsp;</label>
                                        <select class="form-control" style="width: 240px;" [(ngModel)]="retailerId" [disabled]="hide"
                                            name="retailerId" id="retailerId" [ngClass]="{standalone: true}">
                                            <option [value]="0">NA</option>
                                            <option *ngFor="let spl of retailerList" [value]="spl.id">{{spl.name}}
                                            </option>
                                        </select>
                                    <!-- </div> -->
                                </td>
                                
                                <!-- <td>
                                        <font style="color: red;">*</font><label>Program&emsp;</label>
                                        <select class="form-control" style="width: 240px;" [(ngModel)]="programId" 
                                            name="programId" id="programId" [ngClass]="{standalone: true}">
                                            <option *ngFor="let spl of programList" [value]="spl.id">{{spl.name}}
                                            </option>
                                        </select>
                                </td> -->
                              
                            </tr>
                            <tr *ngIf="roleId!=8">
                              
                                 <td>
                                    <!-- <div class="form-group"> -->
                                        <font style="color: red;">*</font><label>Sourcing Partner&emsp;</label>
                                        <select class="form-control" style="width: 240px;" (change)="getProgramId()" 
                                         [disabled]="hideSorcPartner" [(ngModel)]="sourcingPartnerId" name="sourcingPartnerId" id="sourcingPartnerId">
                                            <option *ngFor="let spl of sourcingPartnerList" [value]="spl.orgId">{{spl.name}}</option>
                                        </select>

                                        <!-- <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">
                                            <div *ngIf="f.name.errors.required">Name is required.</div>
                                            <div *ngIf="f.name.errors.minlength">Name should be 3 character.</div>
                                        </div> -->
                                    <!-- </div> -->
                                </td>
                                <!-- <td>
                                        <font style="color: red;">*</font><label>Program&emsp;</label>
                                        <select class="form-control" style="width: 240px;" [(ngModel)]="programId" 
                                            name="programId" id="programId" [ngClass]="{standalone: true}">
                                            <option *ngFor="let spl of programList" [value]="spl.id">{{spl.name}}
                                            </option>
                                        </select>
                                </td> -->
                               
                                <td>
                                    <!-- <div class="form-group"> -->
                                        <font style="color: red;">*</font><label> Retailer/Dealer&emsp;</label>
                                        <select class="form-control" style="width: 240px;" [(ngModel)]="retailerId" [disabled]="hide"
                                            name="retailerId" id="retailerId" [ngClass]="{standalone: true}">
                                            <option [value]="0">NA</option>
                                            <option *ngFor="let spl of retailerList" [value]="spl.id">{{spl.name}}
                                            </option>
                                        </select>
                                    <!-- </div> -->
                                </td>
                                <td > <font style="color: red;">*</font><label> Program&emsp;</label>
                                    <select  class="form-select" [(ngModel)]="programId"
                                    name="programId" id="programId" >
                                    <option selected>-- Select Program --</option>
                                    <option [value]="0">NA</option>
                                    <option *ngFor="let spl of programList" [value]="spl.id">{{spl.name}}
                                    </option>
                                    </select>
                                </td>
                                <!-- <td style="border-bottom:0px none;">
                                    <select  class="form-select" [(ngModel)]="programId"
                                        name="programId" id="programId" >
                                        <option selected>-- Select Program --</option>
                                        <option [value]="0">NA</option>
                                        <option *ngFor="let spl of programList" [value]="spl.id">{{spl.name}}
                                        </option>
                                        </select>
                            </td> -->
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <!-- <div class="form-group"> -->
                                        <font style="color: red;">*</font><label for="file">File Upload (.xls)&emsp;</label>
                                        <input  id="file" type="file" class="form-control"
                                            style="width: auto;overflow: hidden;" (change)="onFileChange($event)"
                                            accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                                            
                                        <!-- <div *ngIf="submitted && f.file.invalid" class="alert alert-danger">
                                            <div *ngIf="f.file.errors.required">File is required.</div>
                                        </div> -->
                                    <!-- </div> -->
                                </td>
                            </tr>
                        </table>
                        <br>
                        
                        <label for="fileTemp"> <a class="btn btn-primary"
                                href="{{url}}">Download
                                    Template</a></label>
                                    
                <button [hidden]="hideButton" class="btn btn-primary ml-3" type="submit" >Submit</button>
                <span [hidden]="!hideButton">Processing...</span>
                </form>
            </div>
        </div>
    </div>
  </div>
</div>


<div class="row" [hidden]="!submitted">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <table class="table table-striped" align="left">
                    <tr>
                        <td>
                            
                               <label>Sourcing Partner&emsp;</label>
                                <select class="form-control" style="width: 240px;" [(ngModel)]="sourcingPartnerId" (change)="getProgramId()" 
                                     name="sourcingPartner" id="sourcingPartner" [disabled]="true">
                                    <option *ngFor="let spl of sourcingPartnerList" [value]="spl.orgId">
                                        {{spl.name}}
                                    </option>
                                </select>
                        </td>
                        <!-- <td>
                             <label>Program&emsp;</label>
                                <select class="form-control" style="width: 240px;" [(ngModel)]="programId"
                                    name="programId" id="programId" [disabled]="true">
                                    <option *ngFor="let spl of programList" [value]="spl.id">{{spl.name}}
                                    </option>
                                    </select>
                        </td> -->
                        <td>
                             <label> Retailer/Dealer&emsp;</label>
                                <select class="form-control" style="width: 240px;" [(ngModel)]="retailerId"
                                    name="retailerId" id="retailerId" [disabled]="true">
                                    <option [value]="0">NA</option>
                                    <option *ngFor="let spl of retailerList" [value]="spl.id">{{spl.name}}
                                    </option>
                                </select>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <label> File Name&emsp;{{fileName}}</label>  
                        </td>
                    </tr>
                </table>
            </div>             
        </div>             
    </div>             
    <div class="">
        <div class="card">
            <div class="card-body">
                
                <br>
                <table class="table table-striped table-bordered ">
                    <tr>
                        <th>Sno</th>
                        <th>Action</th>
                        <th>Entity Name</th>
                        <th>Anchor Ref No</th>
                        <th>Address</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Pin Code</th>
                        <th>Type</th>
                        <th>Firm Type</th>
                        <th>GST</th>
                        <th>PAN</th>
                        <th>Company Start Date</th>
                        <th>Brand Start Date</th>
                        <th>Person Name</th>
                        <th>Mobile No</th>
                        <th>Mail Id</th>
                        <th>1st Invoice Value</th>
                        <th>1st Invoice Year</th>
                        <th>2nd Invoice Value</th>
                        <th>2nd Invoice Year</th>
                        <th>3rd Invoice Value</th>
                        <th>3rd Invoice Year</th>
                        <th>4th Invoice Value</th>
                        <th>4th Invoice Year</th>
                        <th>5th Invoice Value</th>
                        <th>5th Invoice Year</th>
                        <th>6th Invoice Value</th>
                        <th>6th Invoice Year</th>
                        <th>7th Invoice Value</th>
                        <th>7th Invoice Year</th>
                        <th>8th Invoice Value</th>
                        <th>8th Invoice Year</th>
                        <th>9th Invoice Value</th>
                        <th>9th Invoice Year</th>
                        <th>10th Invoice Value</th>
                        <th>10th Invoice Year</th>
                        <th>11th Invoice Value</th>
                        <th>11th Invoice Year</th>
                        <th>12th Invoice Value</th>
                        <th>12th Invoice Year</th>
                        <th>Branch Name</th>
                        <th>Branch Distance</th>
                        <th>Sales Person</th>
                        <th>Mobile No</th>
                    </tr>
                    <tr *ngFor="let fl of  finalList; let i=index">
                        <td>{{i+1}}</td>
                        <td>
                            <ng-container *ngIf="fl.remarks == 'Success'">
                                <font color="green"><b>{{fl.remarks}}</b> </font>
                            </ng-container>
                            <ng-container *ngIf="fl.remarks != 'Success'">
                                <font color="red"><b>{{fl.remarks}}</b></font>
                            </ng-container>
                            
                        </td>
                        <td>{{fl.entityName}}</td>
                        <td>{{fl.anchorRefNo}}</td>
                        <td>{{fl.address}}</td>
                        <td>{{fl.City}}</td>
                        <td>{{fl.state}}</td>
                        <td>{{fl.pincode}}</td>
                        <td>{{fl.type}}</td>
                        <td>{{fl.firmType}}</td>
                        <td>{{fl.gst}}</td>
                        <td>{{fl.pan}}</td>
                        <td>{{fl.companyStartDate}}</td>
                        <td>{{fl.brandStartDate}}</td>
                        <td>{{fl.personName}}</td>
                        <td>{{fl.mobileNo}}</td>
                        <td>{{fl.mailID}}</td>
                        <td>{{fl.fmiv}}</td>
                        <td>{{fl.fmiy}}</td>
                        <td>{{fl.smiv}}</td>
                        <td>{{fl.smiy}}</td>
                        <td>{{fl.tmiv}}</td>
                        <td>{{fl.tmiy}}</td>
                        <td>{{fl.fomiv}}</td>
                        <td>{{fl.fomiy}}</td>
                        <td>{{fl.fimiv}}</td>
                        <td>{{fl.fimiy}}</td>
                        <td>{{fl.simiv}}</td>
                        <td>{{fl.simiy}}</td>
                        <td>{{fl.svmiv}}</td>
                        <td>{{fl.svmiy}}</td>
                        <td>{{fl.emiv}}</td>
                        <td>{{fl.emiy}}</td>
                        <td>{{fl.nmiv}}</td>
                        <td>{{fl.nmiy}}</td>
                        <td>{{fl.temiv}}</td>
                        <td>{{fl.temiy}}</td>
                        <td>{{fl.elmiv}}</td>
                        <td>{{fl.elmiy}}</td>
                        <td>{{fl.twmiv}}</td>
                        <td>{{fl.twmiy}}</td>
                        <td>{{fl.bracnchName}}</td>
                        <td>{{fl.branchDistance}}</td>
                        <td>{{fl.salesPerson}}</td>
                        <td>{{fl.salesMobileNo}}</td>
                        
                    </tr>
                </table>
                <div class="col text-left">
                    <ng-container *ngIf="updateFlag == 1">
                        <button type="button" style="height:35px;width:150px" class="btn btn-primary mb-2"
                            (click)="uploadExcelData()">
                            Submit
                        </button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </ng-container>
                    <button type="button" style="height:35px;width:150px" class="btn btn-danger mb-2"
                        (click)="reUploadBrandData()">
                        ReUpload
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
