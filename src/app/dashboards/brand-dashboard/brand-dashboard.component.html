<div class="row">
    <!-- Column -->
    <div class="col-lg-3">
        <div class="card card-inverse card-success">
            <div class="card-body">
                <div class=" ">
                    <button class="btn btn-success" (click)="inprogressRetailers(inprogressRetailer)">
                        <i class="fa fa-id-card fa-2x text-white"></i>
                    </button>
                    <p class="text-white">In Progress Retailers</p>
                    <h3 class="text-white font-light">No.of Nodes In Progress
                        <span class="font-bold">{{inProgress}}</span>
                    </h3>
                    <div class="text-white m-t-20">
                        <!-- <i>- as on date</i> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <div class="col-lg-3">
        <div class="card card-inverse card-info">
            <div class="card-body">
                <div class="">
                    <button class="btn btn-info" (click)="approvedRetailers(approvedRetailer)">
                        <i class="fa fa-university fa-2x text-white"></i>
                    </button>
                    <p class="text-white">Approved Retailers</p>
                    <h3 class="text-white font-light">No.of Nodes Approved
                        <span class="font-bold">{{approved}}</span>
                    </h3>
                    <div class="text-white m-t-20">
                        <!-- <i>- 100% onboarded</i> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->
    <div class="col-lg-3">
        <div class="card card-inverse card-warning">
            <div class="card-body">
                <div class="">
                    <button class="btn btn-warning" (click)="notonboardedRetailers(notOnboardedRetailer)">
                        <i class="fa fa-hourglass fa-2x text-white"></i>
                    </button>
                    <p class="text-white">Not Onboarded</p>
                    <h3 class="text-white font-light"> Not Onboarded
                        <span class="font-bold">{{notOnboarded}}</span>
                    </h3>
                    <div class="text-white m-t-20">
                        <!-- <i>- 0% to be onboarded</i> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3">
        <div class="card card-inverse card-danger">
            <div class="card-body">
                <div class="">
                    <button class="btn btn-danger" (click)="rejectedRetailers(rejectedRetailer)">
                        <i class="fa fa-close fa-2x text-white"></i>
                    </button>
                    <p class="text-white">Rejected </p>
                    <h3 class="text-white font-light">No.of Nodes Rejected
                        <span class="font-bold">{{rejected}}</span>
                    </h3>
                    <div class="text-white m-t-20">
                        <!-- <i>- 0% to be onboarded</i> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->

</div>
<!-- Row -->

<!-- ============================================================== -->
<!-- Start Page Content -->
<!-- ============================================================== -->
<div class="row">
    <div class="col-12">
        <!-- You can find this in the dashboard-component -->
        <!-- <app-project-counter></app-project-counter> -->
        <div class="card-group m-b-30">
            <!-- <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="m-b-0">
                                <i class="mdi mdi-shopping text-info"></i>
                            </h2>
                            <h3>INR &nbsp;</h3>
                            <h6 class="card-subtitle">Paid Invoices In This Month</h6>
                        </div>
                        <div class="col-12">
                            <ngb-progressbar [showValue]="true" type="info" [value]="0"></ngb-progressbar>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="m-b-0">
                                <i class="mdi mdi-briefcase-check text-info"></i>
                            </h2>
                            <!-- <div *ngFor="let invoice of invoiceList; let i = index"> -->
                            <!-- <h3 class="" *ngIf="i == 0"> -->
                            <h3>
                                INR &nbsp;{{mtdDisburesedInvoicesAmount}}
                                &nbsp;({{mtdDisburesedInvoices}}/{{mtdTotalInvoices}})
                            </h3>
                            <!-- </div>      -->

                            <h6 class="card-subtitle">MTD Paid Invoices</h6>
                        </div>
                        <div class="col-12">
                            <ngb-progressbar [showValue]="true" type="info" [value]="mtdPaidPB"></ngb-progressbar>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Column -->
            <!-- Column -->
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="m-b-0">
                                <i class="mdi mdi-alert-circle text-success"></i>
                            </h2>
                            <!-- <div *ngFor="let invoice of invoiceList; let i = index"> -->
                            <h3>
                                INR &nbsp;{{mtdNewInvoicesAmount}} &nbsp;({{mtdNewInvoices}}/{{mtdTotalInvoices}})
                            </h3>
                            <!-- </div> -->
                            <h6 class="card-subtitle">MTD Pending Invoices</h6>
                        </div>
                        <div class="col-12">
                            <ngb-progressbar [showValue]="true" type="success" [value]="mtdPendingPB"></ngb-progressbar>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Column -->
            <!-- Column -->
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="m-b-0">
                                <i class="mdi mdi-wallet text-purple"></i>
                            </h2>
                            <h3 class="">
                                INR&nbsp;{{ytdDisburesedInvoicesAmount}}&nbsp;({{ytdDisburesedInvoices}}/{{ytdTotalInvoices}})
                            </h3>
                            <h6 class="card-subtitle">YTD Paid Invoice </h6>
                        </div>
                        <div class="col-12">
                            <ngb-progressbar [showValue]="true" type="primary" [value]="ytdPaidPB"></ngb-progressbar>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Column -->
            <!-- Column -->
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="m-b-0">
                                <i class="mdi mdi-buffer text-warning"></i>
                            </h2>
                            <h3 class="">
                                INR&nbsp;{{ytdNewInvoicesAmount}}&nbsp;({{ytdNewInvoices}}/{{ytdTotalInvoices}})</h3>
                            <h6 class="card-subtitle">YTD Pending Invoices </h6>
                        </div>
                        <div class="col-12">
                            <ngb-progressbar [showValue]="true" type="warning" [value]="ytdPendingPB"></ngb-progressbar>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- ============================================================== -->
<!-- Report and Comments -->
<!-- ============================================================== -->
<!-- Row -->

<!-- <div class="card"> -->

<!-- You can find this in the dashboard-component -->
<!-- <app-earning-report></app-earning-report> -->
<div class="row">
    <div class="">
<div class="card">
    <div class="card-body">
        <div class="row justify-content-center">
            <div class="col-3">
                <input class="form-control" type="text" name="search" [(ngModel)]="searchReportList" autocomplete="off"
                placeholder="&#61442;  Start searching " (ngModelChange)="p=1;">
            </div>
            <div class="col-2">
                <a routerLink="loandisbursal" routerLinkActive="active" (click)="pdf()">
                    <i class="fa fa-file-pdf-o " aria-hidden="true" ></i>
                    </a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a routerLink="loandisbursal" routerLinkActive="active" (click)="excel()">
                        <i class="fa fa-file-excel-o" aria-hidden="true" ></i>
                    </a>
            </div>
        </div>
        <br>
                <!-- <div class="table-responsive"> -->
                <table class="table table-hover earning-box">
                    <thead>
                        <tr>
                            <th>Sno</th>
                            <th colspan="2"> Retailer</th>
                            <th align="center">Sales Person</th>
                            <th align="right">Approved Limit</th>
                            <th align="center" style="width: 120px;">Approved On</th>
                            <th align="center">Available Limit </th>
                            <th align="center">Total Invoices</th>
                            <th align="right">Total Invoice Amount</th>
                            <th align="center">FinAgg Paid Invoices</th>
                            <th align="right">FinAgg Paid Invoice Amount </th>
                            <th align="center">Pending Invoices</th>
                            <th align="right">Pending Invoice Amount</th>
                            <th align="right">Pending Repayment</th>
                            <th align="right">Pending Repayment Invoice Amount</th>
                            

                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let invoice of invoiceList | filter:searchReportList; let i=index ">
                            <td>{{i+1}}</td>
                            <td>
                                <span class="round round-success">
                                    <img src="assets/images/users/user1.jpg" alt="user" width="50">
                                </span>
                            </td>
                            <td>
                                {{invoice.orgName}}<br>
                                {{invoice.panNo}}/{{invoice.mobileNo}}</td>
                            <td> {{invoice.salesPersonName}}/{{invoice.salesPersonMobileNo}}</td>
                            <td align="right"> {{invoice.approvedAmount}}</td>
                            <td align="center">{{invoice.approvedOn}}</td>
                            <td align="center">{{invoice.availableAmount}}</td>
                            <td align="center">
                                <button class="label label-primary"
                                    (click)="getTotalInvoiceList(totalInvoice,invoice.orgId)">{{invoice.totalInvoices}}</button>
                            </td>
                            <td align="right"> {{invoice.totalInvoiceAmount}}</td>
                            <td align="center">
                                <button class="label label-success"
                                    (click)="getFinaggPaidInvoiceList(finaggInvoice,invoice.orgId)">{{invoice.finaggPayInvoiceCount}}</button>
                            </td>
                            <td align="right"> {{invoice.finaggPayInvoiceAmount}}</td>
                            <td align="center">
                                <button class="label label-warning"
                                    (click)="getPendingInvoiceList(pendingInvoice,invoice.orgId)">{{invoice.distOutStandingInvoiceCount}}</button>
                            </td>
                            <td align="right"> {{invoice.distOutStandingInvoiceAmount}}</td>
                            <td>{{invoice.repaymentInvoice}}</td>
                            <td>{{invoice.repaymentInvoiceAmount}}</td>
                            
                        </tr>

                    </tbody>
                </table>
                <!-- </div> -->
            </div>
        </div>


    </div>
</div>




<!-- ============================================================== -->
<!-- chart and stats -->
<!-- ============================================================== -->
<div class="row" [hidden]="true">
    <!-- chart component -->
    <div class="col-lg-8">
        <div class="card">
            <div class="card-body">
                <div class="d-flex flex-wrap m-b-30">
                    <div>
                        <h4 class="card-title">Monthly Trend</h4>
                    </div>
                    <div class="ml-auto">
                        <ul class="list-inline">
                            <li>
                                <h6 class="text-muted text-success">
                                    <i class="fa fa-circle font-10 m-r-10 "></i>Regular Pay</h6>
                            </li>
                            <li>
                                <h6 class="text-muted  text-info">
                                    <i class="fa fa-circle font-10 m-r-10"></i>FinAgg Paid</h6>
                            </li>
                        </ul>
                    </div>
                </div>
                <div style="height:350px;">
                    <canvas baseChart [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions"
                        [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType"> </canvas>
                </div>
            </div>
        </div>
    </div>
    <!-- other chart component -->
    <div class="col-lg-4">
        <div class="card card-inverse card-info">
            <div class="card-body">
                <div class="d-flex">
                    <div class="m-r-20 align-self-center">
                        <h1 class="text-white">
                            <i class="ti-light-bulb"></i>
                        </h1>
                    </div>
                    <div>
                        <h3 class="card-title">FinAgg Paid</h3>
                        <h6 class="card-subtitle">2020-2021</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6 align-self-center">
                        <h2 class="font-light text-white">
                            <!-- <sup>
                                <small>
                                    <i class="ti-arrow-up"></i>
                                </small>
                            </sup> -->
                            INR 1,54,836.00</h2>
                    </div>
                    <div class="col-6 p-t-10 p-b-20 text-right">
                        <div style="height: 84px; width: 100px">
                            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                [options]="barChartOptions" [colors]="barChartColors" [legend]="barChartLegend"
                                [chartType]="barChartType">
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card card-inverse card-success">
            <div class="card-body">
                <div class="d-flex">
                    <div class="m-r-20 align-self-center">
                        <h1 class="text-white">
                            <i class="ti-pie-chart"></i>
                        </h1>
                    </div>
                    <div>
                        <h3 class="card-title">Regular Pay</h3>
                        <h6 class="card-subtitle">2020-2021</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6 align-self-center">
                        <h2 class="font-light text-white">INR 81,040.00</h2>
                    </div>
                    <div class="col-6 p-t-10 p-b-20 text-right">
                        <div style="height: 84px; width: 100px">
                            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                [options]="barChartOptions" [colors]="barChartColors" [legend]="barChartLegend"
                                [chartType]="barChartType">
                            </canvas>
                        </div>
                    </div>
                    <!-- <div class="col- ml-auto p-r-20">
                        <canvas baseChart width="120px" height="120px" [data]="pieChartData" [labels]="pieChartLabels"
                            [chartType]="pieChartType" [legend]="lineChartLegend"
                            [colors]="[{backgroundColor: ['#1cadbf', '#1f5f67', '#ffffff'], borderColor:['#26dad2', '#26dad2', '#26dad2'] }]">
                        </canvas>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Row -->
<!-- ============================================================== -->
<!-- Carousel widgets -->
<!-- You can find this in the dashboard-component -->
<!-- ============================================================== -->
<!-- <social-slider></social-slider> -->
<!-- ============================================================== -->
<ng-template #totalInvoice let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Total Invoice List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th>Invoice No</th>
                    <th>Invoice Date</th>
                    <th>Invoice Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ti of totalInvoiceList; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{ti.invoiceNo}}</td>
                    <td>{{ti.invoiceDate}}</td>
                    <td>{{ti.invoiceAmount}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #finaggInvoice let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Finagg Paid Invoice List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th>Invoice No</th>
                    <th>Invoice Date</th>
                    <th>Invoice Amount</th>
                    <th>Disbursment Date</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pi of totalPaidInvoiceList; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{pi.invoiceNo}}</td>
                    <td>{{pi.invoiceDate}}</td>
                    <td>{{pi.invoiceAmount}}</td>
                    <td>{{pi.disbursmentDate}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #pendingInvoice let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Pending Invoice List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>  
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th>Invoice No</th>
                    <th>Invoice Date</th>
                    <th>Invoice Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pe of totalPendingInvoiceList; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{pe.invoiceNo}}</td>
                    <td>{{pe.invoiceDate}}</td>
                    <td>{{pe.invoiceAmount}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #inprogressRetailer let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Inprogress Retailer List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th colspan="2" align="center"> Retailer</th>
                    <th>Sales Person </th>
                    <th>Status</th>
                    <th>Created On</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ir of inprogressRetailerList; let i=index;">
                    <td>{{i+1}}</td>
                    <td><span class="round round-success">
                            <img src="assets/images/users/user1.jpg" alt="user" width="50">
                        </span></td>
                    <td>{{ir.orgName}}<br>
                        {{ir.panNo}}/{{ir.mobileNo}}</td>
                    <td>{{ir.salesPerson}}/{{ir.salesPersonMobileNo}}</td>
                    <td>{{ir.status}}</td>
                    <td>{{ir.createdOn}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #approvedRetailer let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Approved Retailer List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th colspan="2" align="center">Retailer</th>
                    <th>Sales Person</th>
                    <th>Status</th>
                    <th>approved On</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ar of approvedRetailerList; let i=index;">
                    <td>{{i+1}}</td>
                    <td><span class="round round-success">
                            <img src="assets/images/users/user1.jpg" alt="user" width="50">
                        </span>
                    </td>
                    <td>{{ar.orgName}}<br>
                        {{ar.panNo}}/{{ar.mobileNo}}</td>
                    <td>{{ar.salesPerson}}/{{ar.salesPersonMobileNo}}</td>
                    <td>{{ar.status}}</td>
                    <td>{{ar.createdOn}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #notOnboardedRetailer let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Not Onboarded Retailer List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th colspan="2" align="center">Retailer</th>
                    <th>Sales Person </th>
                    <th>Status</th>
                    <th>Created On</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pe of notOnboardedRetailerList; let i=index;">
                    <td>{{i+1}}</td>
                    <td><span class="round round-success">
                            <img src="assets/images/users/user1.jpg" alt="user" width="50">
                        </span>
                    </td>
                    <td>{{pe.orgName}}
                        <br>{{pe.panNo}}/{{pe.mobileNo}}</td>
                    <td>{{pe.salesPerson}}/{{pe.salesPersonMobileNo}}</td>
                    <td>{{pe.status}}</td>
                    <td>{{pe.createdOn}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>
<ng-template #rejectedRetailer let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Rejected Retailer List</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sno</th>
                    <th colspan="2" align="center">Retailer</th>
                    <th>Sales Person</th>
                    <th>Status</th>
                    <th>Rejected On</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let rr of rejectedRetailerList; let i=index;">
                    <td>{{i+1}}</td>
                    <td><span class="round round-success">
                            <img src="assets/images/users/user1.jpg" alt="user" width="50">
                        </span></td>
                    <td>{{rr.orgName}}<br>
                        {{rr.panNo}}/{{rr.mobileNo}}
                    </td>
                    <td>{{rr.salesPerson}}/{{rr.salesPersonMobileNo}}</td>
                    <td>{{rr.status}}</td>
                    <td>{{rr.createdOn}}</td>
                </tr>
            </tbody>

        </table>

    </div>
    <div class="modal-footer" style="text-align: center;">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        <!-- <button type="button" class="btn btn-success" (click)="savelan()">save</button> -->
    </div>
</ng-template>