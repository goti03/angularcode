<div class="action-slide" id="action-slide"   cdkDrag>
    <div class="row">
        <div class="col">
            <div class="row mt-1">
                <div class="col-2"></div>
                <div class="col-8 text-center ">
                    <h6>Actions - {{actions.loanNo}}</h6>
                </div>
                <div class="col-2">
                    <button class="float-right mr-1 btn"(click)="closeTab()">
                        <span aria-hidden="true" style="color : red; font-weight: 600;">×
                        </span>
                    </button>
                </div>
                </div>
            </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="row text-center justify-content-center mb-1" >
                        <div class="col font-weight-bold" *ngIf="roleId!=17 && roleId!=2"> CAM </div>
                        <div class="col font-weight-bold" *ngIf="roleId==17 &&  roleId!=2 && roleId!=13"> Borrower VPA </div>
                        <div class="col font-weight-bold" *ngIf="roleId != 7 && roleId!=17 &&  roleId!=2 && roleId!=13">Application Form</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 7&&roleId!=17 &&  roleId!=2 && roleId!=13">Check List</div>
                        <div class="col font-weight-bold" *ngIf="roleId!=18">View Docs</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 7&&  roleId!=2 && roleId!=13">Disbursal</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 17&&  roleId!=2 && roleId!=13">Suplier Excel</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 4 && roleId != 12 &&  roleId!=2 && roleId!=18 &&  roleId!=19">Action</div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==1">Anchor</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 7 && roleId!=17 &&  roleId!=2  && roleId!=13">SOA Report</div>
                        <div class="col font-weight-bold" *ngIf="roleId != 4 && roleId != 7 && roleId != 12 && roleId!=17 &&  roleId!=2 && roleId!=18 &&  roleId!=19">Doc Upload
                        </div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==1 || roleId == 13">Change Status</div>
                        <div class="col font-weight-bold" *ngIf="actions.approvalStatus=='Approved' && roleId!=13 && roleId!=2">Repayment</div>
                        <div class="col font-weight-bold"
                            *ngIf="(roleId==3||roleId==1||roleId == 6 || roleId == 13) && actions.renewalFlag==1 && roleId!=17"> Extension</div>
                        <div class="col font-weight-bold"
                            *ngIf="(roleId==3||roleId==1||roleId == 6) && actions.renewalFlag==2 && roleId!=17"> Renewal</div>
                        <div class="col font-weight-bold" *ngIf="(roleId!=17  && roleId!=20)">NPA Date</div>
                        <div class="col font-weight-bold" *ngIf="roleId!=17&&!readRole">Borrower NPA Date</div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==1 || roleId ==49">E-Sign</div>
                        <div class="col font-weight-bold">Udyam</div>
                    </div>
                    <div class="row text-center justify-content-center mb-1" >
                        <div class="col">
                            <a class="btn" (click)="camGstDetails(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId,actions.programTypeId)">
                                <img src="assets/images/icons/supplier_xks.png" style="width: 30px; height:30px;" title="CAM GST Summary"/>
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId != 7  && roleId!=17 &&  roleId!=2 && roleId!=13 ">
                            <ng-container *ngIf="actions.programTypeId == sellerProgramTypeId">
                                <a class="pointer" title="Application From" (click)="downloadLoanForm(2)">
                                    <img src="assets/images/icons/application_form.png"
                                        style="width: 30px; height:30px;" />
                                </a>
                            </ng-container>
                            <ng-container *ngIf="actions.programTypeId == retailerProgramTypeId">
                                <img *ngIf="actions.digital==1" src="assets/images/icons/disable.png"
                                    style="width: 30px; height:30px;" />
                                <a *ngIf="actions.digital==0" title="Application From" class="pointer"
                                    (click)="downloadLoanForm(2)">
                                    <img src="assets/images/icons/application_form.png"
                                        style="width: 30px; height:30px;" />
                                </a>
                            </ng-container>
                            <ng-container
                                *ngIf="actions.programTypeId != sellerProgramTypeId && actions.programTypeId != retailerProgramTypeId">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container>
                        </div> 
                        <div class="col" *ngIf="roleId != 7  && roleId!=17 &&  roleId!=2 && roleId!=13">
                            <ng-container *ngIf="actions.statusId >= PAN_Verification_Fail">
                                <img *ngIf="actions.digital==1" src="assets/images/icons/disable.png"
                                    style="width: 30px; height:30px;" />
                                <a *ngIf="actions.digital==0" class="pointer" title="Check List"
                                    (click)="checklist(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId)">
                                    <img src="assets/images/icons/check_list.png" style="width: 30px; height:30px;" />
                                </a>
                            </ng-container>
                            <ng-container *ngIf="actions.statusId < PAN_Verification_Fail ">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container>
                        </div>
                        <div class="col" *ngIf="roleId!=18&&roleId!=19">
                            <a class="pointer" title="View Doc"
                                (click)="viewdocument(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId)">
                                <img src="assets/images/icons/view_docs.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId != 7 &&  roleId!=2 && roleId!=13">
                            <a class="pointer" title="Loan Disbursal"
                                (click)="loandisbursal(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId,actions.digital)">
                                <img src="assets/images/icons/disbursal.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId!=17 &&  roleId!=2 && roleId!=13">
                            <ng-container *ngIf="actions.programTypeId == 8">

                                <i class="fa fa-file-excel-o fa-2x pointer" aria-hidden="true"
                                    title="Download Supplier Excel"
                                    (click)="downloadSupplierExcel(actions.loanReqId)"></i>
                            </ng-container>
                            <ng-container *ngIf="actions.programTypeId != 8">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container>
                        </div>
                        <div class="col" *ngIf="roleId != 4 && roleId != 12 &&  roleId!=2 && roleId!=18 && roleId!=19">
                            <a class="pointer" title="Action"
                                (click)="action(actions.loanReqId,actions.substatusId,actions.programTypeId,actions.orgId)">
                                <img src="assets/images/icons/action.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==1">
                            <a class="pointer" title="Anchor Details"
                                (click)="openAnchorPopup(anchorPopup,actions.orgId,actions.loanReqId)">
                                <img src="assets/images/icons/anchor.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId != 7 && roleId!=17&&  roleId!=2 && roleId!=13 ">
                            <a class="pointer" title="SOA"
                                (click)="statementAccount(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId)">
                                <img src="assets/images/icons/soa_report.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId != 4 && roleId != 7 && roleId != 12 &&roleId!=17 &&  roleId!=2 && roleId!=18 && roleId!=19">
                            <a class="pointer" title="Upload Doc"
                                (click)="uploadDocuments(actions.cusomertId,actions.loanReqId,actions.orgId,actions.retailerId)">
                                <img src="assets/images/icons/upload_docs.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==1 || roleId==13">
                            <a class="pointer" *ngIf="roleId==1||(actions.approvalStatus!='Approved' &&(actions.statusId!=63 &&
                            actions.statusId!=64 && actions.statusId!=77 && actions.statusId!=79 && actions.statusId!=26 && actions.statusId!=36 &&
                            actions.statusId!=100 && actions.statusId!=101 && actions.statusId!=113)) "
                                title="Change Status"
                                (click)="updateLoanStatus(actions.loanReqId,actions.programTypeId,actions.orgId)">
                                <img src="assets/images/icons/change_status.png" style="width: 30px; height:30px;" />
                            </a>
                            <ng-container *ngIf="roleId!=1 && actions.approvalStatus=='Approved'&&(actions.statusId==63||
                        actions.statusId==64||actions.statusId==77||actions.statusId==79||actions.statusId==26||actions.statusId==36||
                        actions.statusId==100||actions.statusId==101||actions.statusId==113)">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container>
                        </div>
                        <div class="col" *ngIf="actions.approvalStatus=='Approved' && roleId!=2 && roleId!=13">
                            <a  title="Repayment"
                                (click)="repayviaqr(previewpopup,actions.orgId,actions.retailerId,actions.compayName)">
                                <img src="assets/images/icons/qrrepay.jpeg" style="width: 30px; height:30px; color: #1fad3c;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="(roleId==3 || roleId==1||roleId == 6 || roleId == 13) && actions.renewalFlag==1">
                            <a class="pointer" title="Extension"
                                (click)="extentLoan(actions.loanReqId,actions.orgId,actions.programId,'2','Extension')">
                                <img src="assets/images/icons/extenison.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="(roleId==3 || roleId==1||roleId == 6) && actions.renewalFlag==2">
                            <a class="pointer" title="Renewal"
                                (click)="extentLoan(actions.loanReqId,actions.orgId,actions.programId,'2','Renewal')">
                                <img src="assets/images/icons/renewal.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col"
                            *ngIf="roleId!=17">
                            <a class="pointer" title="externalNPA" *ngIf="actions.externalNpaDate=='0'"
                                (click)="updateExternalNpaDate(actions.loanReqId,npaDatePopUp,'1',actions.externalNpaDate)">
                                <img src="assets/images/icons/renewal.png" style="width: 30px; height:30px;" />
                            </a>
                            <p *ngIf="(actions.externalNpaDate!='0' && roleId!='20')">{{actions.externalNpaDate}}</p>
                        </div>
                        <div class="col"
                            *ngIf="roleId!=17&&roleId!=18&&roleId!=19">
                            <a class="pointer" title="borrowerNPA" *ngIf="actions.borrowerNpaDate=='0'"
                                (click)="updateExternalNpaDate(actions.loanReqId,npaDatePopUp,'2',actions.borrowerNpaDate)">
                                <img src="assets/images/icons/renewal.png" style="width: 30px; height:30px;" />
                            </a>
                            <span *ngIf="actions.borrowerNpaDate!='0'" class="wordBreak">
                                <p style="display: inline-block;">{{actions.borrowerNpaDate}}</p><br>
                                <button  (click)="updateExternalNpaDate(actions.loanReqId,npaDatePopUp,'2',actions.borrowerNpaDate)" class="btn" style="display: inline-block;" *ngIf="!readRole"><i class="fa fa-edit" style="color: #1fc1f7;" title="Update Borrower Date"></i></button>
                                <button  type="button" (click)="removeNPADate(actions.loanReqId,npaDatePopUp,'2',actions.borrowerNpaDate)" class="btn" style="display: inline-block;" *ngIf="!readRole"><i class="fa fa-trash " style="color: #fc120e;" title="Delete Borrower Date"></i></button>
                            </span>
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==1 || roleId ==49">
                            <a title="E-Sign"
                            (click)="Esign(actions.orgId,actions.loanReqId,actions.cusomertId,actions.retailerId)">
                                <img src="assets/images/icons/qrrepay.jpeg" style="width: 30px; height:30px; color: #1fad3c;" />
                            </a>
                        </div>
                        <div class="col"  >
                            <a class="pointer" title="Udyam" (click)="Udhyam(actions.orgId,actions.loanReqId,actions.cusomertId,actions.retailerId)">
                                <img src="assets/images/icons/supplier_xks.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                    </div>
                    <hr />

                    <div class="row text-center justify-content-center mb-1">
                        <div class="col font-weight-bold" *ngIf="roleId != 7 && roleId != 4 && roleId != 12 && roleId!=2 && roleId!=13 && roleId!=20">NACH
                            Registration
                        </div>
                        <!-- <div class="col font-weight-bold" *ngIf="roleId != 7 && (roleId == 1 ||roleId==13|| actions.approvalStatus!='Approved') && roleId!=17  && roleId!=2 ">Sanction Date</div> -->
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId ==17 || roleId==19 || roleId==20 ">GST 3B</div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId ==17 || roleId==19 || roleId==20 ">GST R1</div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId==19 || roleId==20  ">GSTN Limit</div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId ==17 || roleId==19 || roleId==20 ">2A Data</div>
                        <div class="col font-weight-bold" *ngIf="(roleId != 7 && lenderIdp==0 && roleId!=2 && roleId!=13 )||readRole">SOA </div>
                        <div class="col font-weight-bold" *ngIf="roleId == 1 && env!='Jana'|| lenderIdp!=0 && roleId!=2 && roleId!=13 &&env!='Jana' ">Lender SOA</div>
                        <div class="col font-weight-bold" *ngIf="roleId!=17 && roleId!=2 && roleId!=13 && roleId!=18 && roleId!=19">Edit Contact Infro</div>
                        <div class="col font-weight-bold" *ngIf="roleId==1">Update Program</div>
                        
                     
                        <div class="col font-weight-bold"
                            *ngIf="(roleId==3||roleId==1||roleId == 6) && actions.renewalFlag==1">Adhoc</div>
                        <div class="col font-weight-bold" *ngIf="roleId!=17 && roleId!=13"> Loan Page</div>
                    </div>
                    <div class="row text-center justify-content-center mb-1" >
                        <div class="col" *ngIf="roleId != 7 && roleId != 4 && roleId != 12  && roleId!=2 && roleId!=13 && roleId!=20">
                            <a class="pointer" title="Nach Register" 
                                (click)="registerNACH(actions.statusId,actions.loanReqId,actions.orgId,actions.programTypeId)">
                                <img src="assets/images/icons/nach.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <!-- <div class="col" *ngIf="roleId != 7 && (roleId == 1 || roleId==13|| actions.approvalStatus!='Approved') && roleId!=17  && roleId!=2 ">
                            <a class="pointer" title="Update Sanction Date" 
                                (click)="sactionDatePopup(actions.loanReqId,sactionDateCondition,actions.programId)">
                                <img src="assets/images/icons/sanction_date.png" style="width: 30px; height:30px;" />
                            </a>
                        </div> -->
                        <div class="col" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId==17 || roleId==19 || roleId==20 ">
                            <a class="pointer" title="GST 3B"
                                (click)="gst3b(actions.loanReqId,actions.orgId)">
                                <img src="assets/images/icons/gst_3b.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId==17 || roleId==19 || roleId==20 ">
                            <a class="pointer" title="GST R1"
                                (click)="gstr1(actions.loanReqId,actions.orgId )">
                                <img src="assets/images/icons/gst_r1.png" style="width: 30px; height:30px;" /></a>
                             <img  src="assets/images/icons/disable.png" style="width: 30px; height:30px;" /> 
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId==19 || roleId==20 ">
                            <a class="pointer" title="Update GSTN"
                                (click)="updateGSTN(actions.loanReqId,actions.orgId)">
                                <img src="assets/images/icons/gstn_limit.png" style="width: 30px; height:30px;" /></a>
                        </div>
                        <div class="col" *ngIf="roleId==3 || roleId==6 || roleId==13 || roleId==1 || roleId == 17 || roleId==19 || roleId==20 ">
                            <!-- <ng-container *ngIf="actions.programTypeId == 4 && actions.lenderId==ugroLenderId"> -->
                                <a class="pointer" title="GST 2A"
                                    (click)="update2AData(actions.loanReqId,actions.orgId)">
                                    <img src="assets/images/icons/2d_data.png" style="width: 30px; height:30px; " />
                                </a>
                            <!-- </ng-container>
                            <ng-container *ngIf="actions.programTypeId != 4 || actions.lenderId!=ugroLenderId">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container> -->
                        </div>
                        <div class="col font-weight-bold" *ngIf="(roleId != 7 && lenderIdp==0 && roleId!=2 && roleId!=13)||readRole">
                            <a class="pointer" title="Borrower SOA Report" >
                            <img src="assets/images/icons/borrower_soa_report.png" style="width: 30px; height:30px; color: #1fad3c;" (click)="downloadSOAPopup(soareports,0,actions.loanReqId)" />
                        </a>
                        </div>
                        <div class="col font-weight-bold" *ngIf="roleId == 1 && env!='Jana'|| lenderIdp!=0  && roleId!=2 && roleId!=13 && env!='Jana'">
                            <a class="pointer" title="Lender SOA Report" >
                            <img src="assets/images/icons/lender_soa_report.png" style="width: 30px; height:30px; color: #1fad3c;" (click)="downloadSOAPopup(soareports,1,actions.loanReqId)" />
                        </a>
                        </div>
                        <div class="col font-weight-bold" *ngIf="roleId!=17  && roleId!=2 && roleId!=13 && roleId!=18 && roleId!=19">
                            <ng-container
                                *ngIf="(actions.approvalStatus!='Approved' && (roleId==3 || roleId==6 ))||roleId==1">
                                <a class="pointer" title="Edit Contact Info"
                                    (click)="updateApplicationDetails(updateApplication,actions.loanReqId,actions.programTypeId,actions.orgId,actions.panNo,actions.lenderId,actions.approvalStatus)">
                                    <img src="assets/images/icons/edit_application.png"
                                        style="width: 30px; height:30px;" />
                                </a>
                            </ng-container>

                            <ng-container *ngIf="actions.approvalStatus=='Approved'&&roleId!=1">
                                <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                            </ng-container>
                        </div>
                        <div class="col font-weight-bold" *ngIf="roleId==3 || roleId==1">
                            <ng-container>
                                <a class="pointer" title="Update Program"
                                    (click)="programChange(program,actions.loanReqId,actions.programTypeId,actions.orgId)">
                                    <img src="assets/images/icons/migrations.png" style="width: 30px; height:30px;" />
                                </a>
                            </ng-container>
                        </div>
                    
                        <div class="col font-weight-bold"
                            *ngIf="(roleId==3||roleId==1||roleId == 6) && actions.renewalFlag==1">
                            <a class="pointer" title="Adhoc"
                                (click)="extentLoan(actions.loanReqId,actions.orgId,actions.programId,'2','Adhoc')">
                                <img src="assets/images/icons/adhoc.png" style="width: 30px; height:30px;" />
                            </a>
                        </div>
                        <div class="col font-weight-bold" *ngIf="roleId!=17  && roleId!=2 && roleId!=13">
                            <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                          
                        </div>
                    </div>
                
               
                </div>
            </div>
      
</div>
<ng-template #sactionDateCondition let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Update Sanction Date</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Sanction Date </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <input type="date" id="sanctionDate" class="form-control" name="sanctionDate"
                            [(ngModel)]="sanctionDate" (keypress)="preventTyping()">
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">
                        <button type="button" class="btn btn-success mb-2" (click)="saveSanctionDate()">save</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</ng-template>

<ng-template #updateApplication let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Update Application Details</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row mt-3">
            <label class="col-3 offset-1" for="customerName">Firm Name{{isLive}}</label>
            <input class="form-control col-3" name="customerName" id="customerName" [disabled]="isLive"
                [(ngModel)]="customerName">
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="mobileNo">Mobile Number</label>
            <input class="form-control col-3" name="mobileNo" id="mobileNo" [(ngModel)]="mobileNo" maxlength="10">
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="emailId">Email Id</label>
            <input class="form-control col-3" name="emailId" id="emailId" [(ngModel)]="emailId">
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="address">Address</label>
            <input class="form-control col-3" name="address" id="address" [disabled]="isLive" [(ngModel)]="address">
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="address">Pin code</label>
            <input class="form-control col-3" name="pincode" id="pincode" [disabled]="isLive" [(ngModel)]="pincode"
                maxlength="6" (change)="getAddressByPincode($event.target.value)">
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="state">State</label>
            <select class="form-control col-3" [(ngModel)]="state" [disabled]="isLive" required id="state" name="state"
                (change)="setCityValue($event.target.value)">
                <option *ngFor="let s of stateList" [value]="s.stateName">{{s.stateName}}</option>
            </select>
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="city">City</label>
            <select class="form-control col-3" [(ngModel)]="city" [disabled]="isLive" required id="city" name="city">
                <option *ngFor="let c of cityList" [value]="c.cityName">{{c.cityName}}</option>
            </select>
        </div>
        <div class="row mt-3" *ngFor="let a of applicantDetails;let i=index">
            <label class="col-3 offset-1" for="applicatName_{{i}}">{{i+1}}.Applicat Name</label>
            <input class="form-control col-3" name="applicatName_{{i}}" [disabled]="isLive" id="applicatName_{{i}}"
                [(ngModel)]="a.applicantName">
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="saveApplicationDetails()">save</button>
    </div>
</ng-template>

<ng-template #program let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Program Update</h4>
        <h4 style="color:red" *ngIf="err">{{errorMsg}]</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered" style="font-style:normal;font-size:10pt;width: 100%;">
            <tr>
                <th>Company Name</th>
                <th>Program Name</th>
                <th>Customer Name</th>
                <th>Pan</th>
                <th>Application ID</th>
                <th>Application Date</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Remarks</th>
            </tr>
            <tr *ngFor="let h of HeaderDetails">
                <td>{{h.companyName}}</td>
                <td>{{h.programName}}</td>
                <td>{{h.customerName}}</td>
                <td>{{h.panNo}}</td>
                <td>{{h.applicationNo}}</td>
                <td>{{h.applicationDate}}</td>
                <td>{{indianCurrency(h.loanAmount)}}</td>
                <td>{{h.status}}</td>
                <td>{{h.remarks}}</td>
            </tr>
        </table>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="lender">Lender</label>
            <select class="form-control col-3" name="lender" id="lender" [(ngModel)]="newLender"
                (click)="getprogramList($event.target.value)">
                <option *ngFor="let a of lenderList" [value]="a.id">{{a.name}}</option>
            </select>
        </div>
        <div class="row mt-3">
            <label class="col-3 offset-1" for="program">Program</label>
            <select class="form-control col-3" name="program" id="program" [(ngModel)]="newProgram">
                <option *ngFor="let a of programList" [value]="a.programId">{{a.programName}}</option>
            </select>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="updateProgram()">save</button>
    </div>
</ng-template>
<ng-template #soareports>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title"><b>{{soatype}} SOA Report</b></h4>
        <button type="button" class="close" aria-label="Close" (click)="hello()">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table>
        
            <tr>
                <td *ngIf="actions.approvalStatus=='Approved' || actions.approvalStatus=='Debit Freeze' ||
                actions.approvalStatus=='Closed'">
                <i class="fa fa-file-pdf-o fa-4x pointer" aria-hidden="true" title="SOA pdf"
                            (click)="downloadSOA(1,actions.loanReqId)"></i>
                            &nbsp;
                   <i class="fa fa-file-excel-o fa-4x pointer" aria-hidden="true" title="SOA excel"
                            (click)="downloadSOA(0,actions.loanReqId)"></i>
                </td>
                
                <td *ngIf="actions.approvalStatus!='Approved' && actions.approvalStatus!='Debit Freeze' &&
                actions.approvalStatus!='Closed'"> <h4 style="color: red;">No data Available</h4>
                </td>
                </tr>
        </table>
    </div>
</ng-template>

<ng-template #npaDatePopUp let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Update NPA Date</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <table class="table table-striped table-bordered">
            <!-- <thead>
                <tr>
                    <th>NPA Date </th>
                </tr>
            </thead> -->
            <tbody>
                <tr>
                    <td>
                        <mat-form-field color="#196F3D" appearance="fill">
                            <mat-label>NPA Date</mat-label>
                            <input matInput [matDatepicker]="picker1"  [(ngModel)]="npaDate" [max]="todayDate">
                            <mat-hint>DD/MM/YYYY</mat-hint>
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                          </mat-form-field>
                    </td>
                </tr>
                <tr *ngIf="errorMSG!=''">
                    <td>
                        <h4 style="color: red; margin-left: 10px;">{{errorMSG}}</h4>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">
                        <button type="button" class="btn btn-success mb-2" (click)="saveNPADate()">save</button>&nbsp;
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</ng-template>
