<div class="row">
    <!-- column -->
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">

                <h3><b>Edit Program Setup</b></h3>
                <div style="width: 100%;">
              

                        <table class="table table-striped " style="width: 100%;">
                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>Master Program Name</label>
                                </td>
                                <td><select class="form-control" id="masterProgramId" required [(ngModel)]="program.masterProgramId" name="masterProgramId" (change)="dateFetch($event.target.value)">
                                        <option *ngFor="let mpl of masterProgramList" [value]="mpl.id">{{mpl.name}}
                                        </option>
                                    </select> </td>
                                <td>
                                    <font style="color: red;">*</font><label>Program Type</label>
                                </td>
                                <td><select class="form-control" id="programTypeId" [disabled]="true" [(ngModel)]="program.programTypeId" name="programTypeId"   >
                                        <option *ngFor="let ptl of ProgramTypeList" [value]="ptl.id">{{ptl.name}}
                                        </option>
                                    </select></td>
                                <td>
                                    <font style="color: red;">*</font><label>Program Name</label>
                                </td>
                                <td><input type="text" class="form-control" id="programName" required [(ngModel)]="program.programName" name="programName" autocomplete="off"></td>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <td>

                            </tr>

                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>Program Mode</label>
                                </td>
                                <td>
                                    <select class="form-control" id="programModeId" required [(ngModel)]="program.programModeId" name="programModeId">
                                        <option *ngFor="let ptl of ProgramModeList" [value]="ptl.id">{{ptl.name}}
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Start Date</label>
                                </td>
                                <td>
                                    <!-- <input matInput [matDatepicker]="dp" style="height:35px;width:200px" class="form-control" readonly
                    id="startDate" name="startDate" [(ngModel)]="program.startDate">
                  <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                  <mat-datepicker #dp></mat-datepicker> -->
                                    <input type="date" class="form-control" placeholder="dd-mm-yyyy" id="startDate" required [(ngModel)]="program.startDate" name="startDate" autocomplete="off" (change)="sdateCheck($event.target.value)" (keypress)="preventTyping()">
                                </td>

                                <td>
                                    <font style="color: red;">*</font><label>End Date</label>
                                </td>
                                <td>
                                    <input type="date" class="form-control" placeholder="dd-mm-yyyy" id="endDate" required [(ngModel)]="program.endDate" name="endDate" autocomplete="off" (change)="edateCheck($event.target.value)" (keypress)="preventTyping()">
                                    <!-- <input matInput [matDatepicker]="dp1" style="height:35px;width:200px" [min]="program.startDate"
                    class="form-control" readonly id="endDate" name="endDate" [(ngModel)]="program.endDate"
                    [formControl]="control">
                  <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
                  <mat-datepicker #dp1></mat-datepicker> 
                  <div *ngIf="!control.valid" class="invalid-feedback">
                    End Date Should not be less than Start Date
                  </div>-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>Total Limit</label>
                                </td>
                                <td *ngIf="!showlimit"><input type="text" class="form-control" id="totalLimit" required [(ngModel)]="program.totalLimit" name="totalLimit" autocomplete="off" (change)="limitCheck($event.target.value)">
                              
                                </td>
                                <td *ngIf="showlimit" (click)="showlimits()"><input class="form-control" value={{indianCurrency(program.totalLimit)}}  ></td>
                              
                                
                                <td>
                                    <font style="color: red;">*</font><label>Borrower Limit</label>
                                </td>
                                <td *ngIf="!showlimitb"><input type="text" class="form-control" id="borrowerLimit" required (change)="borrowerCheck($event.target.value)" [(ngModel)]="program.limitPerBorrower" name="borrowerLimit" autocomplete="off">
                               
                                </td>
                                <td *ngIf="showlimitb" (click)="showlimitborrower()"><input class="form-control" value={{indianCurrency(program.limitPerBorrower)}}></td>
                              
                                <td>
                                    <font style="color: red;">*</font><label>Min ROI</label>
                                </td>
                                <td><input type="text" class="form-control" id="minROI" required [(ngModel)]="program.minROI" name="minROI" autocomplete="off" (change)="roichecker(program.minROI)"></td>
                            </tr>
                            <tr>
                                <td>
                                    <font style="color: red;">*</font> <label>Max ROI</label>
                                </td>
                                <td><input type="text" class="form-control" id="maxROI" required [(ngModel)]="program.maxROI" name="maxROI" autocomplete="off" (change)="roichecker(program.maxROI)"></td>
                                <td>
                                    <font style="color: red;">*</font><label>Installment Type</label>
                                </td>
                                <td>
                                    <select class="form-control" id="installmentType" required [(ngModel)]="program.installmentType" name="installmentType">
                                        <option *ngFor="let ltl of loanTenureList" [value]="ltl.id">{{ltl.name}}
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>No of Installment</label>
                                </td>
                                <td>
                                    <input type="number" class="form-control" id="noOfInstallment" required [(ngModel)]="program.noOfInstallment" name="noOfInstallment" autocomplete="off">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>Tranche Tenure</label>
                                </td>
                                <td>
                                    <input type="number" class="form-control" id="loanTenure" required [(ngModel)]="program.loanTenure" name="loanTenure" autocomplete="off">
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Tranche Tenure Unit</label>
                                </td>
                                <td>
                                    <select class="form-control" id="loanTenureUnit" required [(ngModel)]="program.loanTenureUnit" name="loanTenureUnit">
                                        <option *ngFor="let ltu of loanTenureList" [value]="ltu.id">{{ltu.name}}
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Interest Type</label>
                                </td>
                                <td>
                                    <select class="form-control" id="interestType" required [(ngModel)]="program.interestType" name="interestType">
                                        <option value="Front End">Front End</option>
                                        <option value="Monthly Rear End">Monthly Rear End</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>No Of Tranches Per Day</label>
                                </td>
                                <td>
                                    <input type="text" (keypress)="keyPress($event)" class="form-control" id="noOfTranchesPerDay" required [(ngModel)]="program.noOfTranchesPerDay" name="noOfTranchesPerDay" autocomplete="off">
                                </td>
                                <td>
                                    <font style="color: red;">*</font> <label>Tranche Limit Percentage</label>
                                </td>
                                <td><input type="text" (keypress)="keyPress($event)" class="form-control" id="tranchLimitPercentage" required [(ngModel)]="program.tranchLimitPercentage" name="tranchLimitPercentage" autocomplete="off">
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Co-Applicant Sole Prop</label>
                                </td>
                                <td *ngIf="program.coApplicantSoleProp == 1">
                                    <select class="form-control" id="coApplicantSoleProp" required [(ngModel)]="program.coApplicantSoleProp" name="coApplicantSoleProp">
                                        <option value="1" selected>Yes</option>
                                        <option value="0">No</option>
                                    </select>
                                </td>
                                <td *ngIf="program.coApplicantSoleProp == 0">
                                    <select class="form-control" id="coApplicantSoleProp" required [(ngModel)]="program.coApplicantSoleProp" name="coApplicantSoleProp">
                                        <option value="1">Yes</option>
                                        <option value="0" selected>No</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <font style="color: red;">*</font> <label>Adjust Min Percentage</label>
                                </td>
                                <td><input type="text" (keypress)="keyPress($event)" class="form-control" id="adjustMinPercentage" required [(ngModel)]="program.adjustMinPercentage" name="adjustMinPercentage" autocomplete="off">
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Adjust Max Percentage</label>
                                </td>
                                <td><font style="color: red;">*</font>
                                    <input type="text" (keypress)="keyPress($event)" class="form-control" id="adjustMaxPercentage" required [(ngModel)]="program.adjustMaxPercentage" name="adjustMaxPercentage" autocomplete="off">
                                </td>
                                <td><font style="color: red;">*</font><label>Notification Type</label></td>
                                <td>
                                    <select class="form-control" id="notificationTypeId" required [(ngModel)]="program.notificationTypeId" name="notificationTypeId">
                                        <option *ngFor="let d of notificationTypeList" [value]="d.id">{{d.name}}
                                        </option>
                                    </select>
                                </td>

                            </tr>


                            <!-- <tr>
                <td><label>Cash discount Type</label></td>
                <td>
                  <select class="form-control" id="cashDiscountType" required
                  [(ngModel)]="program.cashDiscountType" name="cashDiscountType">
                  <option *ngFor="let d of discountTypeList" [value]="d.id">{{d.name}}</option>
                </select>
                </td>
                <td><label>CD Value</label></td>
                <td>
                  <input type="text" (keypress)="keyPress($event)" class="form-control" id="cashDiscountValue"
                  required [(ngModel)]="program.cashDiscountValue" name="cashDiscountValue" autocomplete="off">
                </td>
                
              </tr> -->
                            <tr>
                                <td>
                                    <font style="color: red;">*</font><label>Loan-To Sole Prop</label>
                                </td>
                                <td>
                                    <select class="form-control" id="loanToSoleProp" required [(ngModel)]="program.loanToSoleProp" name="loanToSoleProp">
                                        <option [value]="1">Firm Name</option>
                                        <option [value]="2">Proprietor Name</option>
                                    </select>
                                </td>
                                <td>
                                    <font style="color: red;">*</font><label>Auto Disbursement</label>
                                </td>
                                <td>
                                    <select class="form-control" id="autoDisbursementFlag" required [(ngModel)]="program.autoDisbursementFlag" name="autoDisbursementFlag">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                                <td>
                                    <font style="color: red;" *ngIf="program.autoDisbursementFlag==1">*</font>
                                    <label>Disbursement Hold
                                        Time</label>
                                </td>
                                <td>
                                    <input type="time" *ngIf="program.autoDisbursementFlag==1" class="form-control" id="disbursementHoldTime" required [(ngModel)]="program.disbursementHoldTime" name="disbursementHoldTime" autocomplete="off">
                                </td>
                            </tr>
                            <tr>

                                <td><font style="color: red;">*</font><label>Notification Frequency</label></td>
                                <td>
                                    <select class="form-control" id="notificationFreqId" required [(ngModel)]="program.notificationFreqId" name="notificationFreqId">
                                        <option *ngFor="let d of notificationFrequncyList" [value]="d.id">{{d.name}}
                                        </option>
                                    </select>
                                </td>

                                <td><font style="color: red;">*</font><label>Cash discount Flag</label></td>
                                <td>
                                    <select class="form-control" id="cashDiscountFlag" required [(ngModel)]="program.cashDiscountFlag" name="cashDiscountFlag">
                                        <option *ngFor="let d of discountFlagList" [value]="d.id">{{d.name}}</option>
                                    </select>
                                </td>
                                <td><font style="color: red;">*</font>
                                    <label>migrationAllowed</label>
                                </td>
                                <td>
                                    <select class="form-control" id="migrationAllowed" required [(ngModel)]="program.migrationAllowed" name="migrationAllowed">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td><font style="color: red;">*</font>
                                    <label>Bank Statements for these many months</label>
                                </td>
                                <td>
                                    <input type="text" id="noofmonths" class="form-control" required [(ngModel)]="program.requiredMonthsBankStatement" name="noofmonths" />
                                </td>
                                <td><font style="color: red;">*</font>
                                    <label>Grace Period</label>
                                </td>
                                <td style="width:20px">
                                    <input type="text" id="gracePeriod" (keypress)="keyPress($event)" class="form-control" required [(ngModel)]="program.gracePeriod" name="gracePeriod" />
                                </td>
                             
                                <td><font style="color: red;">*</font>
                                    <label>Order Invoice Disbursal</label>
                                </td>
                                <td style="width:20px">
                                    <select class="form-control" id="orderInvoiceDisbursal" required [(ngModel)]="program.orderInvoiceDisbursal" name="orderInvoiceDisbursal">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td><font style="color: red;" *ngIf="program.orderInvoiceDisbursal==1" >*</font><label>Order Invoice Disbursal Limit</label></td>
                                <td>
                                    <input type="text" id="orderInvoiceDisbursalLimit" *ngIf="program.orderInvoiceDisbursal==1" class="form-control" required [(ngModel)]="program.orderInvoiceDisbursalLimit" name="orderInvoiceDisbursalLimit" />
                                </td>
                                <td><font style="color: red;">*</font><label>Minimum Value Of Accepted Invoice</label></td>
                                <td>
                                    <input type="text" id="minimumValueofAcceptedInvoice" class="form-control" required [(ngModel)]="program.minimumValueofAcceptedInvoice" name="minimumValueofAcceptedInvoice" />
                                </td>
                                <td><font style="color: red;">*</font>
                                    <label>Due Date Selection</label>
                                </td>
                                <td style="width:20px">
                                    <select class="form-control" id="dueDateSelection" required [(ngModel)]="program.dueDateSelection" name="dueDateSelection">
                                        <option [value]="1">Disursement Date</option>
                                        <option [value]="2">Invoice Date </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td><font style="color: red;">*</font><label>Borrower Loan Tenure Type</label></td>
                                <td ><select class="form-control"  id="borrowerLoanTenureTypes" required [(ngModel)]="borrowerLoanTenureType" name="borrowerLoanTenureTypes" 
                                    (change)="getBorrowerLoanTenureType()">
                                    <option [value]="1">Fixed</option>
                                    <option [value]="2">Dynamic</option>
                                </select></td>
 
                                <td><font style="color: red;">*</font><label>Borrower ROI Type</label></td>
                                <td><select class="form-control" id="borrowerRoiType" required [(ngModel)]="borrowerROIType" name="borrowerRoiType"
                                    (change)="getBorrowerRoiType()" >
                                    <option [value]="1">Fixed</option>
                                    <option [value]="2">Dynamic</option>
                                </select></td>
                                <td>
                                <label><font style="color: red;" *ngIf="program.programTypeId == 4 ">*</font>Copy Rule From</label></td>
    
                                <td class="col-2 text-right">
                                    <select class="form-control"  id="copyRulesFrom" required
                                    [(ngModel)]="program.copyRulesFrom" name="copyRulesFrom">
                                    <option value="0">NA</option>
                                        <option *ngFor="let pl of programfilter " [value]="pl.id" >{{pl.name}}</option>
                                    </select>
                                </td>
                           
                            </tr>
                            <tr>
                                    <td><label><font style="color: red;">*</font>Maximum Free Credit</label></td>
                                    <td><input type="text" (keypress)="keyPress($event)" id="maxFreeCredit" class="form-control" required [(ngModel)]="program.maxFreeCredit" name="maxFreeCredit" /></td>
                                    <td><label>OverDue Period</label></td>
                                    <td style="width:20px">
                                        <input type="text" id="overDuePeriod" class="form-control" required [(ngModel)]="program.overDuePeriod" name="overDuePeriod" />
    
                                    </td>
                                    <td>
                                        <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="">
                                        E-signing</label>
                                    </td>
                                    <td>
                                        <select class="form-control" id="eSigningFlag" required [(ngModel)]="program.eSigningFlag" name="eSigningFlag" (change)="checkValidation()">
                                            <option [value]="1">Yes</option>
                                            <option [value]="0">No</option>
                                        </select>
                                    </td>
                            </tr>

                            <tr>
                                <!-- <td>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="">
                                    E-signing</label>
                                </td>
                                <td>
                                    <select class="form-control" id="eSigningFlag" required [(ngModel)]="program.eSigningFlag" name="eSigningFlag" (change)="checkValidation()">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td> -->
                                <td><font style="color: red;" *ngIf="program.eSigningFlag==1">*</font>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title=""  *ngIf="program.eSigningFlag==1">
                                        Loan Agreement</label>
                                </td>
                                <td>
                                    <select class="form-control" id="loanAgreementFlag" required [(ngModel)]="program.loanAgreementFlag" name="loanAgreementFlag"  *ngIf="program.eSigningFlag==1">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>

                                <td><font style="color: red;" *ngIf="program.eSigningFlag==1">*</font>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title=""  *ngIf="program.eSigningFlag==1">
                                        Hypothecation Agreement</label>
                                </td>
                                <td>
                                    <select class="form-control" id="hypothecationFlag" required [(ngModel)]="program.hypothecationFlag" name="hypothecationFlag"  *ngIf="program.eSigningFlag==1">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                         
                            </tr>

                            <tr>    
                                <td><font style="color: red;" *ngIf="program.eSigningFlag==1">*</font>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="" *ngIf="program.eSigningFlag==1" >
                                        Stamp Paper</label>
                                </td>
                                <td>
                                    <select class="form-control" id="stampPaperFlag" required [(ngModel)]="program.stampPaperFlag" name="stampPaperFlag" *ngIf="program.eSigningFlag==1" (change)="checkeStampDutyProcurement()" >
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                                <td><font style="color: red;" *ngIf="program.stampPaperFlag==1 && program.eSigningFlag==1 ">*</font>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="" *ngIf="program.stampPaperFlag==1 && program.eSigningFlag==1 ">
                                        eStampDutyProcurement</label>
                                </td>
                                <td>
                                    <select class="form-control" id="eStampDutyProcurementFlag" required [(ngModel)]="program.eStampDutyProcurementFlag" name="eStampDutyProcurementFlag" *ngIf="program.stampPaperFlag==1 && program.eSigningFlag==1">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                                <td><font style="color: red;" *ngIf="program.eSigningFlag==1 && program.eStampDutyProcurementFlag==1 && program.stampPaperFlag==1">*</font>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="" *ngIf="program.eSigningFlag==1 && program.eStampDutyProcurementFlag==1 && program.stampPaperFlag==1">
                                        Stamp Duty Calculation</label>
                                </td>
                                <td>
                                    <select class="form-control" id="stampDutyFlag" required [(ngModel)]="program.stampDutyFlag" name="stampDutyFlag" *ngIf="program.eSigningFlag==1 && program.eStampDutyProcurementFlag==1 && program.stampPaperFlag==1">
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="">
                                        Digital Flow Flag</label>
                                </td>
                           
                                <td>
                                    <select class="form-control" id="digitalFlowFlag" required [(ngModel)]="program.digitalFlowFlag" name="digitalFlowFlag" >
                                        <option [value]="1">Yes</option>
                                        <option [value]="0">No</option>
                                    </select>
                                </td>   
                                
                                <td >
                                    <label data-bs-toggle="tooltip" data-bs-placement="bottom" title="">Enach frequency Code
                                        </label>
                                </td>
                      
                                <td>
                                    <select class="form-control" id="enachFlag" required [(ngModel)]="program.enach" name="Enach Frequency Code" >
                                        <option [value]="0">NA</option>
                                        <option value="YEAR">YEAR</option>
                                        <option value="MNTH">MNTH</option>
                                        <option value="BIMN">BIMN</option>
                                        <option value="QURT">QURT</option>
                                        <option value="MIAN">MIAN</option>
                                        <option value="WEEK">WEEK</option>
                                        <option value="DAIL">DAIL</option>
                                        <option value="ADHO">ADHO</option>

                                    </select>
                                </td>
                                             </tr>
                                             <!-- <tr>
                                                <td><label><font style="color: red;">*</font>Stale Days</label></td>
                                                <td style="width:20px">
                                                    <input type="text" id="staleDays" class="form-control" style="width: 250px !important;" required [(ngModel)]="program.staleDays" name="staleDays" />
                                                </td>
                                            </tr> -->
                            <tr *ngIf="program.cashDiscountFlag == 1">
                                <td colspan="4">
                                    <hr>
                                    <h3>Cash Discount List</h3>
                                    <div class=" badge  mb-3">-1 mean Infinte</div>
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>S.No</th>
                                                <th>Cash Discount Type</th>
                                                <th>Cash Discount Value</th>
                                                <th>From Day</th>
                                                <th>To Day</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let c of cashDiscountList;let i = index">
                                                <td>{{i+1}}</td>
                                                <td>
                                                    <select class="form-control" required [(ngModel)]="c.cashDiscountType" name="cashDiscountType_{{i}}">
                                                        <option *ngFor="let d of discountTypeList" [value]="d.id">
                                                            {{d.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" class="form-control" required [(ngModel)]="c.cashDiscountValue" name="cashDiscountValue_{{i}}" autocomplete="off">
                                                </td>
                                                <td>
                                                    <input class="form-control" type="number" [(ngModel)]="c.fromDay" name="fromDay_{{i}}" id="fromDay_CD{{i}}" (change)="checkCashDiscountDay(i,1)" [readonly]="i != 0">
                                                </td>
                                                <td>
                                                    <input class="form-control" type="number" [(ngModel)]="c.toDay" name="toDay_{{i}}" id="toDay_CD{{i}}" [readonly]="i == cashDiscountList.length-1" (change)="setFromDay(i)">
                                                </td>
                                                <td>
                                                    <button type="button" class="btn btn-danger" (click)="removeCashDiscount(i)" *ngIf="i != 0">delete</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <button type="button" class="mt-3 btn btn-info" (click)="addCashDiscount()">Add</button>
                                </td>
                            </tr>
                        </table>
                        <br>
                        <br>
                        <!-- LENDER -->
                        <div class="row" style="margin-top: 1%;">
                            <div class="col-4">
                                <h4><b>Lender</b></h4>
                            </div>
                          
                        </div>

                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Action</th>
                                                <th>No</th>
                                                <th>*Name</th>
                                                <th>*Percentage</th>
                                                <th>*Limit</th>
                                                <th>*ROI</th>
                                                <th>*PF Type</th>
                                                <th>*PF Value</th>
                                                <th>*Risk Sharing Status</th>
                                                <th>*Risk Sharing Percentage</th>
                                                <th>*FinaAgg ROI</th>
                                                <th>*FinaAgg PF Value</th>
                                                <th>*Total ROI</th>
                                                <th>*Total PF Value</th>
                                                <th>*Lender Tenure</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let dynamic of programDynamic; let i = index;">
                                                <td>
                                                    <button type="button" (click)="deleteRow(i)" class="btn btn-danger btn-sm">Delete</button>
                                                </td>
                                                <td>{{i + 1}}</td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.lenderId" name="lenderId_{{i}}" style="width: 100px;" [disabled]="lendersetup">
                                                        <option *ngFor="let ll of LenderList" [value]="ll.id">
                                                            {{ll.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.lenderPercentage"[disabled]="lendersetup"  name="lenderPercentage_{{i}}" style="width: 90px;" >
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.lenderLimit" name="lenderLimit_{{i}}" style="width: 100px;" />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.lenderRoi" name="lenderRoi_{{i}}" id="lenderRoi_{{i}}" style="width: 80px;" (blur)="calculateLenderROI(i) " (change)="rangechecks(dynamic.lenderRoi)" />
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.pfTypeId" name="pfTypeId_{{i}}" style="width: 100px;">
                                                        <option *ngFor="let p of pfTypeList" [value]="p.id">{{p.name}}
                                                        </option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.lenderPfValue" name="lenderPfValue_{{i}}" id="lenderPfValue_{{i}}" style="width: 100px;" (blur)="calculateLenderPF(i)" />
                                                </td>
                                                <td>
                                                    <select style="width: 73px;" class="form-control" [(ngModel)]="dynamic.riskSharingStatus" id="riskSharingStatus_{{i}}" name="riskSharingStatus_{{i}}" style="width: 80px;">
                                                        <option value="YES">YES</option>
                                                        <option value="NO">NO</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.riskSharingPercentage" name="riskSharingPercentage_{{i}}" style="width: 50px;" />
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.finAggRoi" name="finAggRoi_{{i}}" id="finAggRoi_{{i}}" style="width: 80px;" (blur)="calculateLenderROI(i)" [disabled]="lendersetup"/>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.finAggPfValue" name="finAggPfValue_{{i}}" id="finAggPfValue_{{i}}" style="width: 100px;" (blur)="calculateLenderPF(i)" [disabled]="lendersetup" />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.totalRoi" name="totalRoi_{{i}}" id="totalRoi_{{i}}" style="width: 80px;" readonly />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.totalPfValue" name="totalPfValue_{{i}}" id="totalPfValue_{{i}}" style="width: 100px;" readonly />
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" [(ngModel)]="dynamic.lenderTenure" name="lenderTenure_{{i}}" id="lenderTenure_{{i}}" style="width: 100px;" class="form-control" />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-6 ">
                                        <button type="button" class="btn btn-primary mb-2" (click)="addRow()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- LENDER -->



                        <div class="row">
                            <div class="col-6">
                                <h4><b>Sourcing Partner</b></h4>
                            </div>
                        </div>

                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <tr>
                                            <th>*Name</th>
                                            <th>*ROI</th>
                                            <th>*PF Type</th>
                                            <th>*PF Value</th>
                                            <th>*Borrower ROI</th>
                                            <th>*Borrower PF Value</th>
                                            <th>*Total ROI</th>
                                            <th>*Total PF Value</th>
                                            <th>*Borrower Tenure</th>
                                        </tr>
                                        <tr *ngFor="let dynamicP of partnerDynamic; let z = index;">
                                            <td>
                                                <select class="form-control" [(ngModel)]="dynamicP.spId" name="spId" id="spId" style="width: 150px;" (click)="getSourcingPartnerBankDetails($event)">
                                                    <option *ngFor="let pl of PartnerList" [value]="pl.id">{{pl.name}}
                                                    </option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="spRoi" required [(ngModel)]="dynamicP.spRoi" name="spRoi" autocomplete="off" (blur)="calculateSpRoi(z)" (change)="roichecker(dynamic.spRoi)" >
                                            </td>
                                            <td>
                                                <select class="form-control" [(ngModel)]="dynamicP.pfTypeId" name="pfTypeId" style="width: 100px;">
                                                    <option *ngFor="let p of pfTypeList" [value]="p.id">{{p.name}}
                                                    </option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="spPfValue" required [(ngModel)]="dynamicP.spPfValue" name="spPfValue" autocomplete="off" (blur)="calculateSpPf(z)">
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="borrowerRoi" required [(ngModel)]="dynamicP.borrowerRoi" name="borrowerRoi" autocomplete="off" (blur)="calculateSpRoi(z)" (change)="rangechecking(dynamicP.borrowerRoi)">
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="borrowerPfValue" required [(ngModel)]="dynamicP.borrowerPfValue" name="borrowerPfValue" autocomplete="off" (blur)="calculateSpPf(z)">
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="totalRoiSP" required [(ngModel)]="dynamicP.totalRoiSP" name="totalRoiSP" autocomplete="off" readonly>
                                            </td>
                                            <td>
                                                <input type="text" style="width: 100px;" class="form-control" id="totalPfValueSP" required [(ngModel)]="dynamicP.totalPfValueSP" name="totalPfValueSP" autocomplete="off" readonly>
                                            </td>
                                            <td>
                                                <input type="text" (keypress)="keyPress($event)" style="width: 100px;" class="form-control" required id="spTenure" [(ngModel)]="dynamicP.spTenure" name="spTenure" autocomplete="off" (change)="fixed(dynamicP.spTenure)"/>
                                            </td>
                                        </tr>
                                    </table>
                                    <br>
                                </div>
                            </div>
                        </div>
                        <!-- <div>
                            <button class ="btn btn-success" (click)="viewTenure(tenuredetails)" *ngIf="borrowerLoanTenureType=='2'">View Tenure List</button>
                      </div> -->
              <div  style="margin-top:3%;" *ngIf="borrowerLoanTenureType==2||borrowerROIType=='2'">
                <div class="row">
                    <div class="col">
                        <table class="table fin-table-blue text-center" >  
                            <thead style="color: black;">
                                <tr >
                                <th rowspan="2" >S.no</th>
                                <th rowspan="2">*Tenure</th>
                                <th rowspan="1" colspan="2">Brand Vintage Month Range</th>
                                <th rowspan="1" colspan="2">Bureau Score Range</th>
                                <th rowspan="2">*Liquid collateral %age</th>
                                <th rowspan="2">*ROI</th>
                                <th rowspan="2">*Delete</th>
                                </tr>
                                <tr>
                                <th>*Min no. of Months</th>
                                <th>*Max no. of Months</th>
                                <th>*Minimum</th>
                                <th>*Maximum</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let a of borrowerROIList; let i=index">
                                    <td>{{i+1}}</td>
                                    <td><input type="text" class="form-control" [(ngModel)]="a.tenure"  autocomplete="off" [ngModelOptions]="{standalone: true}"/></td>
                                    <td><input type="text"  [(ngModel)]="a.brandVintageFrom" [ngModelOptions]="{standalone: true}" class="form-control" max="a.brandVintageto"></td>
                                    <td><input type="text" [(ngModel)]="a.brandVintageto" [ngModelOptions]="{standalone: true}" min="a.brandVintageFrom" class="form-control"></td>
                                    <td><input type="text"  [(ngModel)]="a.bureauScoreFrom" [ngModelOptions]="{standalone: true}" class="form-control" max="a.bureauScoreTo"></td>
                                    <td><input type="text"  [(ngModel)]= "a.bureauScoreTo" [ngModelOptions]="{standalone: true}" class="form-control" min="a.bureauScoreFrom"></td>
                                    <td><input type="text"  [(ngModel)]= "a.liquidCollateral" [ngModelOptions]="{standalone: true}"   (change)="checklimits(a.liquidCollateral)" class="form-control"></td>
                                    <td><input type="text"  [(ngModel)]= "a.roi" [ngModelOptions]="{standalone: true}" (change)="rangecheck(a.roi)"  class="form-control"></td>
                                    <td> 
                                        <i class="fa fa-trash fa-2x pointer" style="color:#fc120e; border-color: transparent;" (click)="trasher(i)"></i>
                                    </td>
                            </tr>

                            </tbody>
                            </table>
                            <button class ="btn btn-success" *ngIf="borrowerLoanTenureType=='2'||borrowerROIType=='2'" (click)="borrowerROIAddrow()">Add</button>
                        </div>
                        </div>
                        </div>
                        <!-- Benificary start -->

                        <div class="row">
                            <div class="col-6">
                                <h4><b>Benificiary Setup</b></h4>
                            </div>
                        </div>

                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <tr>
                                            <th>*Benificiary</th>
                                            <th>*FINAGG Pay</th>
                                            <th>FINAGG Share Type</th>
                                            <th>FINAGG Share Value</th>
                                        </tr>
                                        <tr *ngFor="let ben of beneficiaryDynamic; let z = index;">
                                            <td>
                                                <select class="form-control" required name="benificary" id="benificary" [(ngModel)]="ben.beneficiaryTypeId" style="width: 150px;">
                                                    <option></option>
                                                    <option *ngFor="let bl of beneficiaryList" [value]="bl.id">
                                                        {{bl.name}}</option>
                                                </select>
                                            </td>
                                            <td>
                                                <select class="form-control" required name="finaggPay" id="finaggPay" [(ngModel)]="ben.finaggPay" style="width: 150px;" (change)="finaggpayType()">
                                                    <option *ngFor="let f of finaggPay" [value]="f.id">{{f.name}}
                                                    </option>
                                                    <!-- <option value="1">Yes</option>
                          <option value="0">No</option> -->
                                                </select>
                                            </td>

                                            <ng-template [ngIf]="ben.finaggPay=='1'">
                                                <td>
                                                    <select class="form-control" required name="finaggShareType" id="finaggShareType" [(ngModel)]="ben.finaggShareType" style="width: 150px;">
                                                        <option *ngFor="let fs of finaggShareType" [value]="fs.id">
                                                            {{fs.name}}</option>
                                                        <!-- <option></option>
                              <option value="1">Percentage</option>
                              <option value="2">Flat Amount</option> -->
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="number" style="width: 100px;" class="form-control" id="finaggShareValue" required [(ngModel)]="ben.finaggShareValue" name="finaggShareValue">
                                                </td>

                                            </ng-template>

                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Benificary start -->

                        <!-- repayment Setup start -->

                        <div class="row" style="margin-top: 1%;">
                            <div class="col-4">
                                <h4><b>Repayment Setup</b></h4>
                            </div>
                     
                        </div>

                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>No</th>
                                                <th>*Setup Type</th>
                                                <th>*priority</th>
                                                <th>*Repayment Type</th>
                                                <th>*FINAGG Pay</th>
                                                <th>FINAGG Share Type</th>
                                                <th>FINAGG Share Value</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let dynamic of repaymentDynamic; let i = index;">
                                                <td>
                                                    <button type="button" (click)="reypaymentDeleteRow(i)" class="btn btn-danger btn-sm">Delete</button>
                                                </td>
                                                <td>{{i + 1}}</td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.setupType" name="SetupType_{{i}}" style="width: 100px;">
                                                        <option *ngFor="let st of setupType" [value]="st.name">
                                                            {{st.name}}</option>
                                                        <!-- <option value="alternate Payment">alternate Payment</option> -->
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.priority" name="priority_{{i}}" style="width: 100px;">
                                                        <option *ngFor="let p of priority" [value]="p.id">{{p.name}}
                                                        </option>
                                                        <!-- <option value="2">priority 2</option>
                            <option value="3">priority 3</option> -->
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.repaymentTypeId" name="RepaymentType_{{i}}" style="width: 100px;">
                                                        <option *ngFor="let rl of repaymentList" [value]="rl.id">
                                                            {{rl.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.finaggPay" name="FINAGGPay_{{i}}" (change)="repayFinaggPayType(i,$event)" style="width: 100px;">
                                                        <option *ngFor="let f of finaggPay" [value]="f.id">{{f.name}}
                                                        </option>
                                                    </select>
                                                </td>
                                                <td id="FINAGGShare_{{i}}">
                                                    <select class="form-control" [(ngModel)]="dynamic.finaggShareType" name="FINAGGShareType_{{i}}" style="width: 100px;">
                                                        <option *ngFor="let fs of finaggShareType" [value]="fs.id">
                                                            {{fs.name}}</option>
                                                    </select>
                                                </td>
                                                <td id="FINAGGValue_{{i}}">
                                                    <input type="text" class="form-control" [(ngModel)]="dynamic.finaggShareValue" name="FINAGGShareValue_{{i}}" style="width: 100px;" />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-6 ">
                                        <button type="button" class="btn btn-primary mb-2" (click)="reypaymentAddRow()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- repayment Setup end -->
                        <!-- program limit start -->
                        <div class="row" style="margin-top: 1%;">
                            <div class="col-6">
                                <h4><b>Program Limit</b> </h4>
                            </div>
                            <!-- <div class="col-6 text-right">
                <button type="button" class="btn btn-primary mb-2" (click)="programLimitAddRow()">Add</button>
              </div> -->
                        </div>
                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <!-- <th>#</th> -->
                                                <th>SNo</th>
                                                <th>*Company Type</th>
                                                <th>*Min Limit</th>
                                                <th>*Max Limit</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let dynamic of programLimitList; let i = index;">
                                                <!-- <td>
                          <button type="button" (click)="programLimitDeleteRow(i)" class="btn btn-danger btn-sm">Delete</button>
                        </td> -->
                                                <td>{{i + 1}}</td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="dynamic.companyTypeId" name="companyTypeId_{{i}}" style="width: 240px;" [disabled]="true">
                                                        <option *ngFor="let c of companyTypeList" [value]="c.id">
                                                            {{c.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" style="width: 240px;" class="form-control" id="minLimitAmount_{{i}}" required [(ngModel)]="dynamic.minLimitAmount" name="minLimitAmount_{{i}}" (change)="validateCompanyMinLimit(i,$event.target.value)">
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" style="width: 240px;" class="form-control" id="maxLimitAmount_{{i}}" required [(ngModel)]="dynamic.maxLimitAmount" name="maxLimitAmount_{{i}}" (change)="validateCompanyMaxLimit(i,$event.target.value)">
                                                </td>


                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- program limit end -->
                        <!-- smi start-->
                        <div class="row" style="margin-top: 1%;">
                            <div class="col-4">
                                <h4><b>SMI</b> </h4>
                            </div>
                          
                        </div>
                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>SNo</th>
                                                <th>*TypeName</th>
                                                <th>*Process Name</th>
                                                <th>*Roi Type</th>
                                                <th>*Roi Value</th>
                                                <th>#</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let s of smiList;let i=index">
                                                <td>{{i+1}}</td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="s.processId" name="processId_{{i}}">
                                                        <option *ngFor="let p of smiProcessList" [value]="p.id">
                                                            {{p.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="s.typeId" name="typeId_{{i}}" [disabled]="s.roiType=='1'">
                                                        <option *ngFor="let t of smiTypeList" [value]="t.id">{{t.name}}
                                                        </option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="s.roiType" name="roiType_{{i}}" [disabled]="true" >
                                                        <option *ngFor="let r of roiTypeList" [value]="r.id">{{r.name}}
                                                        </option>
                                                    </select>
                                                </td>
                                                
                                                    <td>
                                                        <input type="text" (keypress)="keyPress($event)" class="form-control" name="roi_{{i}}" [(ngModel)]="s.roi" (change)="rangechecker(s.roi,s.typeId,s.roiType,s)" >
                                                    </td>
                                                
                                                <td>
                                                    <button type="button" (click)="deleteSMIRow(i)" class="btn" *ngIf="s.roiType!='1'">
                                                        <i class="fa fa-trash fa-2x" style="color: #fc120e;"></i>
                                                    </button>
                                                    <button type="button" class="btn" *ngIf="s.roiType=='1'">
                                                        <i class="fa fa-ban fa-2x" ></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-2 text-right">
                                        <button type="button" class="btn btn-primary mb-2" (click)="SMIAddRow()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- smi end-->
                        <!-- late fee charge start-->
                        <div class="row" style="margin-top: 1%;">
                            <div class="col-4"> 
                                <h4><b>Late Fee Charge</b> </h4>
                            </div>
                          
                        </div>
                        <div class="form-group" style="margin-top:1%;">
                            <div class="row">
                                <div class="col-6">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>SNo</th>
                                                <th>*Max Limit</th>
                                                <th>*Loan Age</th>
                                                <th>*Charge Type</th>
                                                <th>*Charges</th>
                                                <th>*GST Percentage</th>
                                                <th>*Is Active</th>
                                                <th>#</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let s of lateFeeList;let i=index">
                                                <td>{{i+1}}</td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" class="form-control" name="upto_{{i}}" id="upto_{{i}}" [(ngModel)]="s.upto" (change)="validateUpto(i)" (ngModelChange)="checkUpto(i)" style="width: 150px;">
                                                    <span style="color: red;" *ngIf="s.checkUpto">Upto must be greater than {{this.lateFeeList[i-1].upto}}</span>
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" class="form-control" name="days_{{i}}" id="days_{{i}}" [(ngModel)]="s.days" style="width: 150px;">
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="s.typeId" name="typeId_{{i}}" id="typeId_{{i}}" style="width: 150px;">
                                                        <option *ngFor="let t of pfTypeList" [value]="t.id">{{t.name}}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" class="form-control" name="charge_{{i}}" id="charge_{{i}}" [(ngModel)]="s.charge">
                                                </td>
                                                <td>
                                                    <input type="text" (keypress)="keyPress($event)" class="form-control" name="gstPercentage_{{i}}" id="gstPercentage_{{i}}" (change)="validateGstPercentage(i)" maxlength="3" [(ngModel)]="s.gstPercentage">
                                                </td>
                                                <td>
                                                    <select class="form-control" [(ngModel)]="s.isActive" name="isActive_{{i}}" id="isActive_{{i}}" style="width: 150px;">
                                                        <option [value]="0">In Active</option>
                                                        <option [value]="1">Active</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <button type="button" *ngIf="!s.lfId" (click)="deleteLateFeeRow(i)" class="btn">
                                                        <i class="fa fa-trash fa-2x" style="color: #fc120e;"></i>
                                                    </button>
                                                    <i class="fa fa-ban" *ngIf="s.lfId" aria-hidden="true" style="font-size:36px"></i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-2 text-right">
                                        <button type="button" class="btn btn-primary mb-2" (click)="lateFeeAddRow()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                     
                        <!-- late fee charge end-->
                        <!-- custom config start-->
                    <div class="row" style="margin-top: 1%;">
                        <div class="col-4">
                            <h4><b>Custom Parameters</b> </h4>
                        </div>
                        
                    </div>
                    <div class="form-group" style="margin-top:1%;">
                        <div class="row">
                            <div class="col-6">
                                <table class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>SNo</th>
                                            <th>Param Name</th>
                                            <th>Type</th>
                                            <th>Value</th>
                                            <th *ngIf="borrowerLoanTenureType=='2' || borrowerRoiType=='2'">ROI</th>
                                            <th>#</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let s of customConfigList;let i=index">
                                            <td>{{i+1}}</td>
                                            <td>
                                                <input type="text"  class="form-control" name="paramName_{{i}}" [(ngModel)]="s.paramName" style="width: 240px;" >
                                            </td>
                                            <td>
                                                <select class="form-control" [(ngModel)]="s.typeId" style="width: 140px;" name="typeId_{{i}}">
                                                    <option *ngFor="let t of dataType" [value]="t.id">{{t.name}}
                                                    </option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text"  style="width: 140px;" class="form-control" name="value_{{i}}" [(ngModel)]="s.value">
                                            </td>
                                            <td *ngIf="borrowerLoanTenureType=='2' || borrowerRoiType=='2'">
                                                <span *ngIf="s.paramName=='rateChartCode'">
                                                    <!-- {{s.roi}} -->
                                                    <select class="form-control" [(ngModel)]="s.roi" style="width: 140px;" name="roi_{{i}}">
                                                        <option *ngFor="let t of borrowerROIList" [value]="t.roi">{{t.roi}}
                                                        </option>
                                                    </select>
                                                </span>
                                                <span *ngIf="s.paramName!='rateChartCode'">
                                                    <img src="assets/images/icons/disable.png" style="width: 30px; height:30px;" />
                                                </span>
                                            </td>
                                            <td>
                                                <button type="button" *ngIf="s.id" (click)="deleteCustomConfig(i,s)" class="btn">
                                                    <i class="fa fa-trash fa-2x" style="color: #fc120e;"></i>
                                                </button>
                                                <!-- <i class="fa fa-ban" *ngIf="s.id" aria-hidden="true" style="font-size:36px"></i> -->
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="col-2 text-right">
                                    <button type="button" class="btn btn-primary mb-2" (click)="customAddRow()">Add</button>
                                </div>
                            </div>
                        </div>
                      
                    </div>
 
                    <!-- custom config end-->
                        
                    
                    <div class="row justify-content-center align-items-center">
                        <button type="submit" class="btn btn-success col-1" (click)="onSubmit()">Submit</button>
                    </div>
                 
                </div>

                <!-- <div [hidden]="!submitted">
          <h4>You submitted successfully!</h4>
        </div> -->

            </div>
        </div>
    </div>
</div>
<ng-template #tenuredetails let-modal>
    <div class="modal-header">
    

            <h4 class="modal-title" id="modal-basic-title">Tenure Details</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
              </button>

            <!--               
            <tr *ngIf="email" style="color: red;">{{errormsg}}</tr> -->
    
        </div>
        
        <div class="modal-body" >
            <div style="margin-left: 250px;">
            <div *ngIf="borrowerLoanTenureType==1||borrowerLoanTenureType==2" style="align-items: center;" >
                <table class="table table-striped table-responsive" >
                   
                      <tbody>


                   <div *ngIf="borrowerLoanTenureType=='2'" >
                    <tr>
                        <th>S.no</th>
                        <th>Tenure</th>
                        <th>Delete</th>
                    </tr>
                            <tr *ngFor="let a of roiTenureList; let i = index; ">
                                <td>{{i+1}}</td>
                                <td><input type="text" (keypress)="keyPress($event)" style="width: 100px;" (change)="selector(i,a.tenure,a.ptId)" class="form-control" required id="spTenure" [(ngModel)]="a.tenure" name="spTenure" autocomplete="off"  /></td>
                                <td> 
                                    <i class="fa fa-trash fa-2x pointer" style="color:#fc120e; border-color: transparent;" (click)=" trashes(i,a.ptId)"></i>
                                </td>
                            </tr>
                        </div>
                       
                   </tbody>
                    </table>
                 
           <button class ="btn btn-success" *ngIf="borrowerLoanTenureType==2" (click)="borrowerTenureAddRow()">Add</button>
</div>
  </div>
     
    </div>
</ng-template>